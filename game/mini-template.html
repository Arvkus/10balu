<!--
    #mini ilgis neturetu buti didesnis nei 800px, aukstis - 600px
    Visas JavaScript turi buti mini() funkcijoje
    Gali buti itrauktos papildomos bibliotekos (JQuery, Bootstrap, PixiJS...)
    Visos klases ir ID turi prasideti su "mini-" (mini-class, mini-id)
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        #mini .mini-world{
            background-color: rgb(218, 218, 218);
        }
    </style>
</head>


<script>
function mini(){
    console.log("Hello World!")
}
mini();
</script>

<body id="mini">
    <div class="mini-world">Hello World!</div>
</body>

</html>

<!-- ------------------------------------------------------------------------ -->

<!--
    #mini ilgis neturetu buti didesnis nei 800px, aukstis - 600px
    Visas JavaScript turi buti mini() funkcijoje
    Gali buti itrauktos papildomos bibliotekos (JQuery, Bootstrap, PixiJS...)
    Visos klases ir ID turi prasideti su "mini-" (mini-class, mini-id)
-->

<style>
    #mini{
        display: flex;
    }

    #mini .mini-info{
        flex: 0 200px;
        margin: 10px;
    }

    #mini .mini-images{
        border-right: 1px solid black;
        flex: 1;
    }
</style>


<script>
function mini(){
    let end_game = false;
    let steps = 0; // $("#mini #steps").text("Paspaudimai: " + steps);
    let time = 1;
    let complexity =  10;  // 2, 4, 8, 16

    // kiek tasku turi, formule
    function calculate_points(complexity, steps, time){
        return Math.floor( complexity*1000 - (time*.5 + steps*5) );
    }

    //----- Zaidomo kodas -----//





    //-------------------------//

    $("#mini #end-game").on("click",function(){
        console.log("click")
        end_game = true;
        game.end_game(0);
    })

    function timer(t){
        time = t;
        console.log(t);
        $("#mini #timer").text("Laikas: " + 
        Math.floor(t/600) + 
        Math.floor(t/60) + 
        ":" + 
        Math.floor(t%60/10) + 
        Math.floor(t%60%10));

        $("#mini #points").text("Taškai: " + calculate_points(complexity, steps, time))

        if(end_game) return;
        sleep(1000).then(() => {timer(t+1)});
    }
    timer(0);
}
mini();
</script>

<main id="mini">
    <div class="mini-images">
        
    </div>

    <div class="mini-info">
        <div id="timer" class="alert alert-info" role="alert">Laikas: 00:00</div>
        <div id="steps" class="alert alert-warning" role="alert">Paspaudimai: 0</div>
        <div id="points" class="alert alert-success" role="alert">Taškai: 0</div>
        <div class="alert alert-primary" role="alert">Irasyti praleista raide</div>
        <!--<div>Paveikslėlis</div> -->
        <button id="end-game" style="width: 100%"  type="button" class="btn btn-danger">Išeiti</button>
    </div>
</main>

