/*
game, world, grid, bitmap, container, tiles

*/

class game{
    constructor(location){
        this.hide_view(1);
        let app = new PIXI.Application(512, 512, { // create renderer
            backgroundColor : 0x1099bb,
            autoResize: true,
            resolution: devicePixelRatio,
            //antialias: true  
        });
        $(location).append(app.view);

        let parallax = new PIXI.Container();
        app.stage.addChild(parallax); // /game/assets/images/parallax/0.png

        let container = new PIXI.Container();
        app.stage.addChild(container);

        this.parallax = parallax
        this.app = app
        this.container = container
        this.pause = false;
        this.map = {};

        this.grid = new PIXI.Container();
        this.objects = new PIXI.Container();
        this.graphics = new PIXI.Container();
        this.background = new PIXI.Container();
        this.foreground = new PIXI.Container();
        
        container.addChild(this.background);
        container.addChild(this.grid);
        container.addChild(this.objects);
        container.addChild(this.foreground);
        container.addChild(this.graphics);

        this._points = 0; // arba uzkrauti
        //--------------------------------------------
        this.show_view();
    }

    get points(){return this._points;}
    set points(p){
        this._points = p;
        $("#interface #points").text("Taškai: " + p)
    }

    resize() { // resize renderer to match parent size
        //let parent = this.app.view.parentNode;
        //this.app.renderer.resize(parent.clientWidth, parent.clientHeight);
        this.app.renderer.resize($( window ).width(), $( window ).height());
    }

    draw_map(map, plr, spawn_id){
        
        if(typeof(map) == "string"){
            map = eval(map_list);
            console.log(map);
            return;
        }
        plr.position = vector.mul(map.spawn[spawn_id || 0], game.tile_size);
        console.log(plr.position)
        this.grid.removeChildren()
        this.background.removeChildren()
        this.foreground.removeChildren()
        this.map = map
        
        let sheet = PIXI.loader.resources["tiles"].spritesheet;

         // [x,y,z,r,name]
        for(let i = 0; i < this.map.data.length; i++){
            let x = this.map.data[i].x;
            let y = this.map.data[i].y;
            let z = this.map.data[i].z;
            let r = this.map.data[i].r;
            let name = this.map.data[i].n;

            let sprite = new PIXI.Sprite(sheet.textures[name]);

            sprite.x = x*game.tile_size;
            sprite.y = y*game.tile_size;
            sprite.width = 71;
            sprite.height = 71;

            //if(z == 0) this.background.addChild(sprite);
            //if(z == 1) this.grid.addChild(sprite);
            //if(z == 2) this.foreground.addChild(sprite);

            sprite.zOrder = z;
            this.grid.addChild(sprite)
        }
    }

    hide_view(t){
        $("main #interface #black-screen").animate({
            opacity: 1,
        },t || 1000, function(){
            $("main #interface #black-screen").animate({zIndex: 100});
        })
    }

    show_view(t){
        $("main #interface #black-screen").animate({
            opacity: 0,
        },t || 1000, function(){
            $("main #interface #black-screen").animate({zIndex: -100});
        })
    }

    //-------------------------------//

    get time(){
        return 0;
    }

    //-------------------------------//
    static get tile_size(){return 70;}

    static global_to_tile(pos, scale){
        return new vector(Math.floor(pos.y/scale),Math.floor(pos.x/scale));
    }

    static start_game(name, obj){
        $("#mini-game").show( "fast" ); 
        let url = "game/mini-games/" + name + ".html"// work/edu
        console.log("start game url:", url)
        $("#mini-game").load(url);
    }

    static end_game(points){
        $("#mini-game").empty();
        $("#mini-game").hide( "fast");  
        world.pause = false;

        world.points += points;

        $.ajax({ /////////////////////////////// !!
            method: "POST",
            url: "test.php",
            contentType: "application/json",
            data: JSON.stringify({
                points: world.points,
                bonus: points,
            }),
            success: function(e){
                console.log("pavyko", e);
            },

            error: function(e){
                console.log("ne",e);
            }
        })
    }

    //-------------------------------//
}

//---------------------------------------------------------------------//
//---------------------------------------------------------------------//
class render{
    constructor(parent){
        this.graphics = new PIXI.Graphics();
        this.parent = parent
    }
    
    draw(v1,color){
        if(color){
            this.graphics.lineStyle(2, color, 1);
        }else{
            this.graphics.lineStyle(2, 0xff0011, 1);
        }
        
        // draw a shape
        this.graphics.moveTo(v1[0].x, v1[0].y);
        for(let i = 1; i < v1.length; i++){
            this.graphics.lineTo(v1[i].x, v1[i].y);
        }
        this.graphics.lineTo(v1[0].x, v1[0].y);

        this.graphics.endFill();

        this.parent.addChild(this.graphics);
    }

    clear(){this.graphics.clear();}
}

//---------------------------------------------------------------------//
//---------------------------------------------------------------------//

let map_list = [{
    name: "Pradžia",
    spawn: [new vector(-5.5,2),new vector(21.5,10)],
    objects: [],
    background: [],
    foreground: [],
    data:[{"x":-4,"y":1,"z":1,"r":0,"n":"00_05","function":"game.start_game('memory-game');"},{"x":5,"y":3,"z":1,"r":0,"n":"04_07"},{"x":4,"y":3,"z":1,"r":0,"n":"04_08"},{"x":3,"y":3,"z":1,"r":0,"n":"04_08"},{"x":2,"y":3,"z":1,"r":0,"n":"04_08"},{"x":1,"y":3,"z":1,"r":0,"n":"04_08"},{"x":0,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-1,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-2,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-3,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-4,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-5,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-6,"y":2,"z":1,"r":0,"n":"09_04","function":"world.draw_map(map_list[0], plr)"},{"x":-6,"y":1,"z":0,"r":0,"n":"09_03"},{"x":-6,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-7,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-8,"y":3,"z":1,"r":0,"n":"04_08"},{"x":-9,"y":3,"z":1,"r":0,"n":"05_09"},{"x":15,"y":11,"z":1,"r":0,"n":"11_02"},{"x":16,"y":11,"z":1,"r":0,"n":"11_02"},{"x":17,"y":11,"z":1,"r":0,"n":"11_02"},{"x":18,"y":11,"z":1,"r":0,"n":"11_02"},{"x":19,"y":11,"z":1,"r":0,"n":"11_02"},{"x":20,"y":11,"z":1,"r":0,"n":"11_02"},{"x":21,"y":11,"z":1,"r":0,"n":"11_02"},{"x":14,"y":11,"z":1,"r":0,"n":"11_03"},{"x":22,"y":11,"z":1,"r":0,"n":"11_02"},{"x":23,"y":11,"z":1,"r":0,"n":"11_02"},{"x":24,"y":11,"z":1,"r":0,"n":"11_02"},{"x":25,"y":11,"z":1,"r":0,"n":"11_02"},{"x":26,"y":11,"z":1,"r":0,"n":"11_02"},{"x":27,"y":11,"z":1,"r":0,"n":"11_02"},{"x":28,"y":11,"z":1,"r":0,"n":"11_02"},{"x":29,"y":11,"z":1,"r":0,"n":"11_02"},{"x":30,"y":11,"z":1,"r":0,"n":"11_01"},{"x":22,"y":10,"z":0,"r":0,"n":"10_12"},{"x":23,"y":10,"z":0,"r":0,"n":"10_12"},{"x":24,"y":10,"z":0,"r":0,"n":"10_12"},{"x":21,"y":10,"z":0,"r":0,"n":"10_12"},{"x":20,"y":10,"z":0,"r":0,"n":"10_12"},{"x":19,"y":10,"z":0,"r":0,"n":"10_12"},{"x":19,"y":9,"z":0,"r":0,"n":"10_12"},{"x":20,"y":9,"z":0,"r":0,"n":"10_12"},{"x":21,"y":9,"z":0,"r":0,"n":"10_12"},{"x":22,"y":9,"z":0,"r":0,"n":"10_12"},{"x":23,"y":9,"z":0,"r":0,"n":"10_12"},{"x":24,"y":9,"z":0,"r":0,"n":"10_12"},{"x":23,"y":8,"z":0,"r":0,"n":"10_12"},{"x":22,"y":8,"z":0,"r":0,"n":"10_12"},{"x":20,"y":8,"z":0,"r":0,"n":"10_12"},{"x":19,"y":8,"z":0,"r":0,"n":"10_12"},{"x":19,"y":7,"z":0,"r":0,"n":"10_12"},{"x":20,"y":7,"z":0,"r":0,"n":"10_12"},{"x":21,"y":7,"z":0,"r":0,"n":"10_12"},{"x":22,"y":7,"z":0,"r":0,"n":"10_12"},{"x":23,"y":7,"z":0,"r":0,"n":"10_12"},{"x":24,"y":7,"z":0,"r":0,"n":"10_12"},{"x":21,"y":10,"z":1,"r":0,"n":"09_04","function":"world.draw_map(map_list[1], plr)"},{"x":21,"y":9,"z":0,"r":0,"n":"09_03"},{"x":18,"y":10,"z":0,"r":0,"n":"10_12"},{"x":18,"y":9,"z":0,"r":0,"n":"10_12"},{"x":18,"y":7,"z":0,"r":0,"n":"10_12"},{"x":17,"y":10,"z":0,"r":0,"n":"10_12"},{"x":17,"y":9,"z":0,"r":0,"n":"10_12"},{"x":17,"y":8,"z":0,"r":0,"n":"10_12"},{"x":17,"y":7,"z":0,"r":0,"n":"10_12"},{"x":25,"y":10,"z":0,"r":0,"n":"10_12"},{"x":25,"y":9,"z":0,"r":0,"n":"10_12"},{"x":25,"y":8,"z":0,"r":0,"n":"10_12"},{"x":25,"y":7,"z":0,"r":0,"n":"10_12"},{"x":18,"y":7,"z":1,"r":0,"n":"10_04"},{"x":19,"y":7,"z":1,"r":0,"n":"10_04"},{"x":20,"y":7,"z":1,"r":0,"n":"10_04"},{"x":21,"y":7,"z":1,"r":0,"n":"10_04"},{"x":22,"y":7,"z":1,"r":0,"n":"10_04"},{"x":23,"y":7,"z":1,"r":0,"n":"10_04"},{"x":24,"y":7,"z":1,"r":0,"n":"10_04"},{"x":25,"y":7,"z":1,"r":0,"n":"10_04"},{"x":17,"y":7,"z":1,"r":0,"n":"10_04"},{"x":26,"y":7,"z":1,"r":0,"n":"10_03"},{"x":16,"y":7,"z":1,"r":0,"n":"10_05"},{"x":18,"y":8,"z":0,"r":0,"n":"10_12"},{"x":24,"y":8,"z":0,"r":0,"n":"10_12"},{"x":18,"y":8,"z":0,"r":0,"n":"01_00"},{"x":24,"y":8,"z":0,"r":0,"n":"01_00"},{"x":-2,"y":2,"z":0,"r":0,"n":"04_03"},{"x":29,"y":12,"z":1,"r":0,"n":"11_04"},{"x":28,"y":13,"z":1,"r":0,"n":"11_04"},{"x":27,"y":14,"z":1,"r":0,"n":"11_04"},{"x":26,"y":15,"z":1,"r":0,"n":"11_04"},{"x":15,"y":12,"z":1,"r":0,"n":"09_10"},{"x":16,"y":13,"z":1,"r":0,"n":"09_10"},{"x":17,"y":14,"z":1,"r":0,"n":"09_10"},{"x":18,"y":15,"z":1,"r":0,"n":"09_10"},{"x":16,"y":12,"z":1,"r":0,"n":"11_02"},{"x":17,"y":12,"z":1,"r":0,"n":"11_02"},{"x":18,"y":12,"z":1,"r":0,"n":"11_02"},{"x":19,"y":12,"z":1,"r":0,"n":"11_02"},{"x":20,"y":12,"z":1,"r":0,"n":"11_02"},{"x":21,"y":12,"z":1,"r":0,"n":"11_02"},{"x":22,"y":12,"z":1,"r":0,"n":"11_02"},{"x":23,"y":12,"z":1,"r":0,"n":"11_02"},{"x":24,"y":12,"z":1,"r":0,"n":"11_02"},{"x":25,"y":12,"z":1,"r":0,"n":"11_02"},{"x":26,"y":12,"z":1,"r":0,"n":"11_02"},{"x":27,"y":12,"z":1,"r":0,"n":"11_02"},{"x":28,"y":12,"z":1,"r":0,"n":"11_02"},{"x":27,"y":13,"z":1,"r":0,"n":"11_02"},{"x":26,"y":13,"z":1,"r":0,"n":"11_02"},{"x":25,"y":13,"z":1,"r":0,"n":"11_02"},{"x":24,"y":13,"z":1,"r":0,"n":"11_02"},{"x":23,"y":13,"z":1,"r":0,"n":"11_02"},{"x":22,"y":13,"z":1,"r":0,"n":"11_02"},{"x":21,"y":13,"z":1,"r":0,"n":"11_02"},{"x":20,"y":13,"z":1,"r":0,"n":"11_02"},{"x":19,"y":13,"z":1,"r":0,"n":"11_02"},{"x":18,"y":13,"z":1,"r":0,"n":"11_02"},{"x":17,"y":13,"z":1,"r":0,"n":"11_02"},{"x":18,"y":14,"z":1,"r":0,"n":"11_02"},{"x":19,"y":14,"z":1,"r":0,"n":"11_02"},{"x":20,"y":14,"z":1,"r":0,"n":"11_02"},{"x":21,"y":14,"z":1,"r":0,"n":"11_02"},{"x":22,"y":14,"z":1,"r":0,"n":"11_02"},{"x":23,"y":14,"z":1,"r":0,"n":"11_02"},{"x":24,"y":14,"z":1,"r":0,"n":"11_02"},{"x":25,"y":14,"z":1,"r":0,"n":"11_02"},{"x":26,"y":14,"z":1,"r":0,"n":"11_02"},{"x":25,"y":15,"z":1,"r":0,"n":"11_02"},{"x":24,"y":15,"z":1,"r":0,"n":"11_02"},{"x":23,"y":15,"z":1,"r":0,"n":"11_02"},{"x":22,"y":15,"z":1,"r":0,"n":"11_02"},{"x":21,"y":15,"z":1,"r":0,"n":"11_02"},{"x":20,"y":15,"z":1,"r":0,"n":"11_02"},{"x":19,"y":15,"z":1,"r":0,"n":"11_02"},{"x":21,"y":8,"z":0,"r":0,"n":"10_12"},{"x":29,"y":10,"z":0,"r":0,"n":"10_12"},{"x":29,"y":9,"z":0,"r":0,"n":"10_12"},{"x":29,"y":8,"z":0,"r":0,"n":"10_12"},{"x":29,"y":7,"z":0,"r":0,"n":"10_12"},{"x":29,"y":6,"z":0,"r":0,"n":"10_12"},{"x":29,"y":9,"z":1,"r":0,"n":"10_06"},{"x":29,"y":5,"z":0,"r":0,"n":"10_12"},{"x":29,"y":4,"z":0,"r":0,"n":"10_12"},{"x":29,"y":4,"z":1,"r":0,"n":"10_06"},{"x":12,"y":9,"z":1,"r":0,"n":"05_06"},{"x":10,"y":7,"z":1,"r":0,"n":"05_06"},{"x":8,"y":5,"z":1,"r":0,"n":"05_06"},{"x":20,"y":6,"z":0,"r":0,"n":"10_12"},{"x":21,"y":6,"z":0,"r":0,"n":"10_12"},{"x":22,"y":6,"z":0,"r":0,"n":"10_12"},{"x":23,"y":6,"z":0,"r":0,"n":"10_12"},{"x":19,"y":6,"z":0,"r":0,"n":"10_12"},{"x":19,"y":5,"z":0,"r":0,"n":"10_12"},{"x":20,"y":5,"z":0,"r":0,"n":"10_12"},{"x":21,"y":5,"z":0,"r":0,"n":"10_12"},{"x":22,"y":5,"z":0,"r":0,"n":"10_12"},{"x":23,"y":5,"z":0,"r":0,"n":"10_12"},{"x":23,"y":4,"z":0,"r":0,"n":"10_12"},{"x":22,"y":4,"z":0,"r":0,"n":"10_12"},{"x":21,"y":4,"z":0,"r":0,"n":"10_12"},{"x":20,"y":4,"z":0,"r":0,"n":"10_12"},{"x":19,"y":4,"z":0,"r":0,"n":"10_12"},{"x":19,"y":3,"z":0,"r":0,"n":"10_12"},{"x":23,"y":3,"z":0,"r":0,"n":"10_12"},{"x":20,"y":3,"z":0,"r":0,"n":"10_12"},{"x":22,"y":3,"z":0,"r":0,"n":"10_12"},{"x":21,"y":3,"z":0,"r":0,"n":"10_12"},{"x":21,"y":2,"z":0,"r":0,"n":"10_12"},{"x":20,"y":2,"z":0,"r":0,"n":"10_12"},{"x":19,"y":2,"z":0,"r":0,"n":"10_12"},{"x":22,"y":2,"z":0,"r":0,"n":"10_12"},{"x":23,"y":2,"z":0,"r":0,"n":"10_12"},{"x":21,"y":2,"z":1,"r":0,"n":"10_04"},{"x":20,"y":2,"z":1,"r":0,"n":"10_04"},{"x":22,"y":2,"z":1,"r":0,"n":"10_04"},{"x":23,"y":2,"z":1,"r":0,"n":"10_04"},{"x":19,"y":2,"z":1,"r":0,"n":"10_04"},{"x":18,"y":2,"z":1,"r":0,"n":"10_05"},{"x":24,"y":2,"z":1,"r":0,"n":"10_03"},{"x":21,"y":1,"z":1,"r":0,"n":"00_05","function":"game.start_game('slide-puzzle');"},{"x":-19,"y":10,"z":1,"r":0,"n":"08_04"},{"x":-18,"y":10,"z":1,"r":0,"n":"08_04"},{"x":-17,"y":10,"z":1,"r":0,"n":"08_04"},{"x":-16,"y":10,"z":1,"r":0,"n":"08_04"},{"x":-15,"y":10,"z":1,"r":0,"n":"08_04"},{"x":-14,"y":10,"z":1,"r":0,"n":"08_04"},{"x":-13,"y":10,"z":1,"r":0,"n":"08_04"},{"x":-12,"y":10,"z":1,"r":0,"n":"08_03"},{"x":-20,"y":10,"z":1,"r":0,"n":"08_05"},{"x":-15,"y":9,"z":0,"r":0,"n":"02_08"},{"x":-17,"y":9,"z":0,"r":0,"n":"02_08"},{"x":-17,"y":8,"z":0,"r":0,"n":"02_08"},{"x":-15,"y":8,"z":0,"r":0,"n":"02_08"},{"x":-18,"y":8,"z":0,"r":0,"n":"02_08"},{"x":-18,"y":9,"z":0,"r":0,"n":"02_08"},{"x":-14,"y":9,"z":0,"r":0,"n":"02_08"},{"x":-14,"y":8,"z":0,"r":0,"n":"02_08"},{"x":-16,"y":9,"z":0,"r":0,"n":"02_08"},{"x":-16,"y":8,"z":0,"r":0,"n":"02_08"},{"x":-16,"y":9,"z":1,"r":0,"n":"09_04","function":"world.draw_map(map_list[3], plr)"},{"x":-16,"y":8,"z":0,"r":0,"n":"09_03"},{"x":-18,"y":7,"z":0,"r":0,"n":"02_08"},{"x":-17,"y":7,"z":0,"r":0,"n":"02_08"},{"x":-16,"y":7,"z":0,"r":0,"n":"02_08"},{"x":-15,"y":7,"z":0,"r":0,"n":"02_08"},{"x":-14,"y":7,"z":0,"r":0,"n":"02_08"},{"x":-18,"y":7,"z":1,"r":0,"n":"10_04"},{"x":-17,"y":7,"z":1,"r":0,"n":"10_04"},{"x":-16,"y":7,"z":1,"r":0,"n":"10_04"},{"x":-15,"y":7,"z":1,"r":0,"n":"10_04"},{"x":-14,"y":7,"z":1,"r":0,"n":"10_04"},{"x":-8,"y":2,"z":0,"r":0,"n":"04_04"},{"x":-16,"y":5,"z":1,"r":0,"n":"00_05","function":"game.start_game('word-guess');"}]
},{
    name: "Lygis 1",
    spawn: [new vector(5.5,2), new vector(62.5,-8)],
    objects: [],
    background: [],
    foreground: [],
    data: [{"x":2,"y":1,"z":1,"r":0,"n":"00_05","function":"game.start_game('animal-guess');"},{"x":5,"y":2,"z":1,"r":0,"n":"09_04","function":"world.draw_map(map_list[0], plr, 0)"},{"x":5,"y":1,"z":0,"r":0,"n":"09_03"},{"x":7,"y":3,"z":1,"r":0,"n":"07_08"},{"x":8,"y":3,"z":1,"r":0,"n":"07_08"},{"x":9,"y":3,"z":1,"r":0,"n":"07_08"},{"x":10,"y":3,"z":1,"r":0,"n":"07_08"},{"x":11,"y":3,"z":1,"r":0,"n":"07_08"},{"x":12,"y":3,"z":1,"r":0,"n":"07_08"},{"x":13,"y":3,"z":1,"r":0,"n":"07_08"},{"x":14,"y":3,"z":1,"r":0,"n":"07_08"},{"x":15,"y":3,"z":1,"r":0,"n":"07_08"},{"x":16,"y":3,"z":1,"r":0,"n":"07_08"},{"x":17,"y":3,"z":1,"r":0,"n":"07_08"},{"x":18,"y":3,"z":1,"r":0,"n":"07_08"},{"x":14,"y":2,"z":0,"r":0,"n":"04_05"},{"x":21,"y":1,"z":1,"r":0,"n":"08_06"},{"x":24,"y":0,"z":1,"r":0,"n":"08_06"},{"x":27,"y":-2,"z":1,"r":0,"n":"08_06"},{"x":30,"y":-4,"z":1,"r":0,"n":"08_06"},{"x":33,"y":-6,"z":1,"r":0,"n":"08_06"},{"x":36,"y":-8,"z":1,"r":0,"n":"08_06"},{"x":37,"y":-8,"z":1,"r":0,"n":"08_06"},{"x":38,"y":-8,"z":1,"r":0,"n":"08_06"},{"x":39,"y":-8,"z":1,"r":0,"n":"08_06"},{"x":40,"y":-8,"z":1,"r":0,"n":"08_06"},{"x":41,"y":-8,"z":1,"r":0,"n":"08_06"},{"x":43,"y":-8,"z":1,"r":0,"n":"08_06"},{"x":42,"y":-8,"z":1,"r":0,"n":"08_06"},{"x":41,"y":-9,"z":1,"r":0,"n":"00_05","function":"game.start_game('arithmetic-math');"},{"x":19,"y":3,"z":1,"r":0,"n":"08_08"},{"x":6,"y":3,"z":1,"r":0,"n":"07_08"},{"x":5,"y":3,"z":1,"r":0,"n":"07_08"},{"x":4,"y":3,"z":1,"r":0,"n":"07_08"},{"x":3,"y":3,"z":1,"r":0,"n":"07_08"},{"x":2,"y":3,"z":1,"r":0,"n":"07_08"},{"x":0,"y":3,"z":1,"r":0,"n":"07_08"},{"x":1,"y":3,"z":1,"r":0,"n":"07_08"},{"x":-1,"y":3,"z":1,"r":0,"n":"07_08"},{"x":-2,"y":3,"z":1,"r":0,"n":"07_08"},{"x":-3,"y":3,"z":1,"r":0,"n":"08_10"},{"x":9,"y":2,"z":0,"r":0,"n":"08_12"},{"x":10,"y":2,"z":0,"r":0,"n":"08_12"},{"x":11,"y":2,"z":0,"r":0,"n":"08_12"},{"x":8,"y":2,"z":0,"r":0,"n":"08_12"},{"x":8,"y":1,"z":0,"r":0,"n":"08_12"},{"x":9,"y":1,"z":0,"r":0,"n":"08_12"},{"x":10,"y":1,"z":0,"r":0,"n":"08_12"},{"x":11,"y":1,"z":0,"r":0,"n":"08_12"},{"x":11,"y":0,"z":0,"r":0,"n":"08_12"},{"x":10,"y":0,"z":0,"r":0,"n":"08_12"},{"x":8,"y":0,"z":0,"r":0,"n":"08_12"},{"x":9,"y":0,"z":0,"r":0,"n":"08_12"},{"x":8,"y":-1,"z":0,"r":0,"n":"08_12"},{"x":9,"y":-1,"z":0,"r":0,"n":"08_12"},{"x":10,"y":-1,"z":0,"r":0,"n":"08_12"},{"x":11,"y":-1,"z":0,"r":0,"n":"08_12"},{"x":9,"y":-1,"z":1,"r":0,"n":"08_06"},{"x":10,"y":-1,"z":1,"r":0,"n":"08_06"},{"x":11,"y":-1,"z":1,"r":0,"n":"08_06"},{"x":8,"y":-1,"z":1,"r":0,"n":"08_06"},{"x":45,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":46,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":47,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":48,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":49,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":50,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":52,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":51,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":53,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":54,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":55,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":56,"y":-6,"z":1,"r":0,"n":"07_08"},{"x":45,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":46,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":47,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":48,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":49,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":52,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":53,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":54,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":55,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":56,"y":-5,"z":1,"r":0,"n":"08_12"},{"x":45,"y":-4,"z":1,"r":0,"n":"08_12"},{"x":46,"y":-4,"z":1,"r":0,"n":"08_12"},{"x":47,"y":-4,"z":1,"r":0,"n":"08_12"},{"x":48,"y":-4,"z":1,"r":0,"n":"08_12"},{"x":53,"y":-4,"z":1,"r":0,"n":"08_12"},{"x":54,"y":-4,"z":1,"r":0,"n":"08_12"},{"x":55,"y":-4,"z":1,"r":0,"n":"08_12"},{"x":56,"y":-4,"z":1,"r":0,"n":"08_12"},{"x":56,"y":-3,"z":1,"r":0,"n":"08_12"},{"x":55,"y":-3,"z":1,"r":0,"n":"08_12"},{"x":54,"y":-3,"z":1,"r":0,"n":"08_12"},{"x":47,"y":-3,"z":1,"r":0,"n":"08_12"},{"x":46,"y":-3,"z":1,"r":0,"n":"08_12"},{"x":45,"y":-3,"z":1,"r":0,"n":"08_12"},{"x":50,"y":-5,"z":1,"r":0,"n":"08_07"},{"x":51,"y":-5,"z":1,"r":0,"n":"08_09"},{"x":52,"y":-4,"z":1,"r":0,"n":"08_09"},{"x":53,"y":-3,"z":1,"r":0,"n":"08_09"},{"x":48,"y":-3,"z":1,"r":0,"n":"08_07"},{"x":51,"y":-5,"z":1,"r":0,"n":"08_04"},{"x":50,"y":-5,"z":1,"r":0,"n":"08_04"},{"x":49,"y":-4,"z":1,"r":0,"n":"08_07"},{"x":47,"y":-7,"z":0,"r":0,"n":"09_02"},{"x":48,"y":-7,"z":0,"r":0,"n":"09_02"},{"x":49,"y":-7,"z":0,"r":0,"n":"09_02"},{"x":50,"y":-7,"z":0,"r":0,"n":"09_02"},{"x":51,"y":-7,"z":0,"r":0,"n":"09_02"},{"x":52,"y":-7,"z":0,"r":0,"n":"09_02"},{"x":53,"y":-7,"z":0,"r":0,"n":"09_02"},{"x":54,"y":-7,"z":0,"r":0,"n":"09_02"},{"x":59,"y":-7,"z":1,"r":0,"n":"08_04"},{"x":60,"y":-7,"z":1,"r":0,"n":"08_04"},{"x":61,"y":-7,"z":1,"r":0,"n":"08_04"},{"x":62,"y":-7,"z":1,"r":0,"n":"08_04"},{"x":64,"y":-7,"z":1,"r":0,"n":"08_04"},{"x":63,"y":-7,"z":1,"r":0,"n":"08_04"},{"x":62,"y":-8,"z":1,"r":0,"n":"09_04","function":"world.draw_map(map_list[2], plr)"},{"x":62,"y":-9,"z":0,"r":0,"n":"09_03"},{"x":60,"y":-8,"z":0,"r":0,"n":"06_01"}]    
},{
    name: "Lygis 2",
    spawn: [new vector(10.5,33)],
    objects: [],
    background: [],
    foreground: [],
    data: [{"x":10,"y":34,"z":1,"r":0,"n":"01_06"},{"x":11,"y":34,"z":1,"r":0,"n":"01_06"},{"x":9,"y":34,"z":1,"r":0,"n":"01_06"},{"x":10,"y":33,"z":1,"r":0,"n":"09_04","function":"world.draw_map(map_list[1], plr,1)"},{"x":10,"y":32,"z":0,"r":0,"n":"09_03"},{"x":12,"y":34,"z":1,"r":0,"n":"01_06"},{"x":13,"y":34,"z":1,"r":0,"n":"01_06"},{"x":8,"y":34,"z":1,"r":0,"n":"01_06"},{"x":7,"y":34,"z":1,"r":0,"n":"01_06"},{"x":6,"y":34,"z":1,"r":0,"n":"01_06"},{"x":14,"y":34,"z":1,"r":0,"n":"01_06"},{"x":15,"y":34,"z":1,"r":0,"n":"01_06"},{"x":16,"y":34,"z":1,"r":0,"n":"01_06"},{"x":17,"y":34,"z":1,"r":0,"n":"01_06"},{"x":18,"y":34,"z":1,"r":0,"n":"01_06"},{"x":19,"y":34,"z":1,"r":0,"n":"01_06"},{"x":5,"y":34,"z":1,"r":0,"n":"02_06"},{"x":20,"y":34,"z":1,"r":0,"n":"02_04"},{"x":16,"y":33,"z":0,"r":0,"n":"02_08"},{"x":17,"y":33,"z":0,"r":0,"n":"02_08"},{"x":18,"y":33,"z":0,"r":0,"n":"02_08"},{"x":18,"y":32,"z":0,"r":0,"n":"02_08"},{"x":17,"y":32,"z":0,"r":0,"n":"02_08"},{"x":16,"y":32,"z":0,"r":0,"n":"02_08"},{"x":16,"y":31,"z":0,"r":0,"n":"02_08"},{"x":18,"y":30,"z":0,"r":0,"n":"02_08"},{"x":17,"y":30,"z":0,"r":0,"n":"02_08"},{"x":16,"y":30,"z":0,"r":0,"n":"02_08"},{"x":16,"y":29,"z":0,"r":0,"n":"02_08"},{"x":17,"y":29,"z":0,"r":0,"n":"02_08"},{"x":18,"y":29,"z":0,"r":0,"n":"02_08"},{"x":18,"y":28,"z":0,"r":0,"n":"02_08"},{"x":17,"y":28,"z":0,"r":0,"n":"02_08"},{"x":16,"y":28,"z":0,"r":0,"n":"02_08"},{"x":16,"y":27,"z":0,"r":0,"n":"02_08"},{"x":17,"y":27,"z":0,"r":0,"n":"02_08"},{"x":18,"y":27,"z":0,"r":0,"n":"02_08"},{"x":16,"y":26,"z":0,"r":0,"n":"02_08"},{"x":17,"y":26,"z":0,"r":0,"n":"02_08"},{"x":18,"y":26,"z":0,"r":0,"n":"02_08"},{"x":18,"y":25,"z":0,"r":0,"n":"02_08"},{"x":17,"y":25,"z":0,"r":0,"n":"02_08"},{"x":16,"y":25,"z":0,"r":0,"n":"02_08"},{"x":16,"y":24,"z":0,"r":0,"n":"02_08"},{"x":17,"y":24,"z":0,"r":0,"n":"02_08"},{"x":18,"y":24,"z":0,"r":0,"n":"02_08"},{"x":18,"y":23,"z":0,"r":0,"n":"02_08"},{"x":17,"y":23,"z":0,"r":0,"n":"02_08"},{"x":16,"y":23,"z":0,"r":0,"n":"02_08"},{"x":16,"y":22,"z":0,"r":0,"n":"02_08"},{"x":17,"y":22,"z":0,"r":0,"n":"02_08"},{"x":18,"y":22,"z":0,"r":0,"n":"02_08"},{"x":18,"y":21,"z":0,"r":0,"n":"02_08"},{"x":17,"y":21,"z":0,"r":0,"n":"02_08"},{"x":16,"y":20,"z":0,"r":0,"n":"02_08"},{"x":18,"y":20,"z":0,"r":0,"n":"02_08"},{"x":17,"y":20,"z":0,"r":0,"n":"02_08"},{"x":18,"y":19,"z":0,"r":0,"n":"02_08"},{"x":17,"y":19,"z":0,"r":0,"n":"02_08"},{"x":16,"y":19,"z":0,"r":0,"n":"02_08"},{"x":16,"y":18,"z":0,"r":0,"n":"02_08"},{"x":17,"y":18,"z":0,"r":0,"n":"02_08"},{"x":18,"y":18,"z":0,"r":0,"n":"02_08"},{"x":18,"y":17,"z":0,"r":0,"n":"02_08"},{"x":17,"y":17,"z":0,"r":0,"n":"02_08"},{"x":16,"y":17,"z":0,"r":0,"n":"02_08"},{"x":16,"y":16,"z":0,"r":0,"n":"02_08"},{"x":17,"y":16,"z":0,"r":0,"n":"02_08"},{"x":18,"y":16,"z":0,"r":0,"n":"02_08"},{"x":18,"y":15,"z":0,"r":0,"n":"02_08"},{"x":17,"y":15,"z":0,"r":0,"n":"02_08"},{"x":16,"y":15,"z":0,"r":0,"n":"02_08"},{"x":16,"y":14,"z":0,"r":0,"n":"02_08"},{"x":17,"y":14,"z":0,"r":0,"n":"02_08"},{"x":18,"y":14,"z":0,"r":0,"n":"02_08"},{"x":17,"y":31,"z":0,"r":0,"n":"02_08"},{"x":18,"y":31,"z":0,"r":0,"n":"02_08"},{"x":17,"y":30,"z":1,"r":0,"n":"02_01"},{"x":18,"y":30,"z":1,"r":0,"n":"02_00"},{"x":19,"y":30,"z":1,"r":0,"n":"02_00"},{"x":20,"y":30,"z":1,"r":0,"n":"01_12"},{"x":16,"y":32,"z":1,"r":0,"n":"02_02"},{"x":16,"y":27,"z":1,"r":0,"n":"02_02"},{"x":15,"y":27,"z":1,"r":0,"n":"02_02"},{"x":18,"y":24,"z":1,"r":0,"n":"02_01"},{"x":19,"y":24,"z":1,"r":0,"n":"02_00"},{"x":20,"y":24,"z":1,"r":0,"n":"02_00"},{"x":21,"y":24,"z":1,"r":0,"n":"01_12"},{"x":17,"y":21,"z":1,"r":0,"n":"02_00"},{"x":18,"y":21,"z":1,"r":0,"n":"02_00"},{"x":19,"y":21,"z":1,"r":0,"n":"01_12"},{"x":16,"y":21,"z":0,"r":0,"n":"02_08"},{"x":16,"y":18,"z":1,"r":0,"n":"02_02"},{"x":15,"y":18,"z":1,"r":0,"n":"02_02"},{"x":17,"y":14,"z":1,"r":0,"n":"02_00"},{"x":18,"y":14,"z":1,"r":0,"n":"02_00"},{"x":19,"y":14,"z":1,"r":0,"n":"02_00"},{"x":16,"y":14,"z":1,"r":0,"n":"02_00"},{"x":15,"y":14,"z":1,"r":0,"n":"02_00"},{"x":18,"y":16,"z":1,"r":0,"n":"02_01"},{"x":19,"y":16,"z":1,"r":0,"n":"02_00"},{"x":20,"y":16,"z":1,"r":0,"n":"01_12"},{"x":18,"y":13,"z":0,"r":0,"n":"00_11"},{"x":19,"y":13,"z":0,"r":0,"n":"00_11"},{"x":18,"y":12,"z":0,"r":0,"n":"00_11"},{"x":19,"y":12,"z":0,"r":0,"n":"00_12"},{"x":17,"y":13,"z":0,"r":0,"n":"00_12"},{"x":18,"y":11,"z":0,"r":0,"n":"00_07"},{"x":7,"y":33,"z":0,"r":0,"n":"00_06"},{"x":8,"y":33,"z":0,"r":0,"n":"00_06"},{"x":6,"y":33,"z":0,"r":0,"n":"00_12"},{"x":15,"y":12,"z":1,"r":0,"n":"00_05","function":"game.start_game('animal-guess');"},{"x":13,"y":32,"z":1,"r":0,"n":"00_05","function":"game.start_game('memory-game');"}]
},{
    name: "Lygis 2",
    spawn: [new vector(-.5,6)],
    objects: [],
    background: [],
    foreground: [],
    data: [{"x":-1,"y":6,"z":1,"r":0,"n":"09_04","function":"world.draw_map(map_list[0], plr)"},{"x":-1,"y":5,"z":0,"r":0,"n":"09_03"},{"x":0,"y":7,"z":1,"r":0,"n":"07_08"},{"x":1,"y":7,"z":1,"r":0,"n":"07_08"},{"x":-1,"y":7,"z":1,"r":0,"n":"07_08"},{"x":-2,"y":7,"z":1,"r":0,"n":"07_08"},{"x":-3,"y":7,"z":1,"r":0,"n":"07_08"},{"x":2,"y":7,"z":1,"r":0,"n":"07_08"},{"x":3,"y":7,"z":1,"r":0,"n":"07_08"},{"x":-4,"y":7,"z":1,"r":0,"n":"08_09"},{"x":4,"y":7,"z":1,"r":0,"n":"08_07"},{"x":8,"y":9,"z":1,"r":0,"n":"08_06"},{"x":11,"y":7,"z":1,"r":0,"n":"08_06"},{"x":15,"y":5,"z":1,"r":0,"n":"08_06"},{"x":19,"y":5,"z":1,"r":0,"n":"08_06"},{"x":23,"y":5,"z":1,"r":0,"n":"08_06"},{"x":27,"y":5,"z":1,"r":0,"n":"08_06"},{"x":31,"y":5,"z":1,"r":0,"n":"08_06"},{"x":35,"y":8,"z":1,"r":0,"n":"08_06"},{"x":39,"y":11,"z":1,"r":0,"n":"08_06"},{"x":43,"y":14,"z":1,"r":0,"n":"08_12"},{"x":44,"y":14,"z":1,"r":0,"n":"08_12"},{"x":45,"y":14,"z":1,"r":0,"n":"08_12"},{"x":46,"y":14,"z":1,"r":0,"n":"08_12"},{"x":48,"y":14,"z":1,"r":0,"n":"08_12"},{"x":47,"y":14,"z":1,"r":0,"n":"08_12"},{"x":43,"y":13,"z":1,"r":0,"n":"08_12"},{"x":49,"y":14,"z":1,"r":0,"n":"08_12"},{"x":50,"y":14,"z":1,"r":0,"n":"08_12"},{"x":51,"y":14,"z":1,"r":0,"n":"08_12"},{"x":52,"y":14,"z":1,"r":0,"n":"08_12"},{"x":53,"y":14,"z":1,"r":0,"n":"08_12"},{"x":53,"y":13,"z":1,"r":0,"n":"08_12"},{"x":44,"y":13,"z":2,"r":0,"n":"07_00"},{"x":45,"y":13,"z":2,"r":0,"n":"07_00"},{"x":46,"y":13,"z":2,"r":0,"n":"07_00"},{"x":47,"y":13,"z":2,"r":0,"n":"07_00"},{"x":48,"y":13,"z":2,"r":0,"n":"07_00"},{"x":49,"y":13,"z":2,"r":0,"n":"07_00"},{"x":50,"y":13,"z":2,"r":0,"n":"07_00"},{"x":51,"y":13,"z":2,"r":0,"n":"07_00"},{"x":52,"y":13,"z":2,"r":0,"n":"07_00"},{"x":45,"y":12,"z":0,"r":0,"n":"06_11"},{"x":44,"y":12,"z":2,"r":0,"n":"06_11"},{"x":46,"y":12,"z":2,"r":0,"n":"06_11"},{"x":47,"y":12,"z":2,"r":0,"n":"06_11"},{"x":48,"y":12,"z":2,"r":0,"n":"06_11"},{"x":49,"y":12,"z":2,"r":0,"n":"06_11"},{"x":50,"y":12,"z":2,"r":0,"n":"06_11"},{"x":51,"y":12,"z":2,"r":0,"n":"06_11"},{"x":52,"y":12,"z":2,"r":0,"n":"06_11"},{"x":54,"y":14,"z":2,"r":0,"n":"08_12"},{"x":54,"y":13,"z":2,"r":0,"n":"08_12"},{"x":55,"y":13,"z":2,"r":0,"n":"08_12"},{"x":55,"y":14,"z":2,"r":0,"n":"08_12"},{"x":56,"y":14,"z":2,"r":0,"n":"08_12"},{"x":56,"y":13,"z":2,"r":0,"n":"08_12"},{"x":57,"y":13,"z":2,"r":0,"n":"08_12"},{"x":57,"y":14,"z":2,"r":0,"n":"08_12"},{"x":58,"y":14,"z":2,"r":0,"n":"08_12"},{"x":58,"y":13,"z":2,"r":0,"n":"08_12"},{"x":59,"y":13,"z":2,"r":0,"n":"08_12"},{"x":59,"y":14,"z":2,"r":0,"n":"08_12"},{"x":60,"y":14,"z":2,"r":0,"n":"08_12"},{"x":60,"y":13,"z":2,"r":0,"n":"08_12"},{"x":53,"y":12,"z":1,"r":0,"n":"07_08"},{"x":54,"y":12,"z":1,"r":0,"n":"07_08"},{"x":55,"y":12,"z":1,"r":0,"n":"07_08"},{"x":56,"y":12,"z":1,"r":0,"n":"07_08"},{"x":57,"y":12,"z":1,"r":0,"n":"07_08"},{"x":59,"y":12,"z":1,"r":0,"n":"07_08"},{"x":58,"y":12,"z":1,"r":0,"n":"07_08"},{"x":60,"y":12,"z":1,"r":0,"n":"07_08"},{"x":43,"y":12,"z":1,"r":0,"n":"07_08"},{"x":56,"y":10,"z":1,"r":0,"n":"00_05","function":"game.start_game('arithmetic-math');"},{"x":59,"y":10,"z":1,"r":0,"n":"00_05","function":"game.start_game('slide-puzzle');"}]
}]



